doctype html
html
  include ../structure/head.pug
  body
    include ../structure/header.pug
    .container
        .card
            table#table.table.is-striped.is-fullwidth
                thead
                    th 
                        a(href=url+'?order=id&asc='+asc) Id
                        if  order=="id" && asc=="DESC" 
                            i(style='margin-left:4px;').fas.fa-arrow-up
                        if  order=="id" && asc=="ASC"
                            i(style='margin-left:4px;').fas.fa-arrow-down
                    th 
                        a(href=url+'?order=title&asc='+asc) Titre
                        if  order=="title" && asc=="DESC" 
                            i(style='margin-left:4px;').fas.fa-arrow-up
                        if  order=="title" && asc=="ASC"
                            i(style='margin-left:4px;').fas.fa-arrow-down
                    th
                        a(href=url+'?order=city&asc='+asc) Ville
                        if  order=="city" && asc=="DESC" 
                            i(style='margin-left:4px;').fas.fa-arrow-up
                        if  order=="city" && asc=="ASC"
                            i(style='margin-left:4px;').fas.fa-arrow-down
                    th  
                        a(href=url+'?order=message&asc='+asc) Message
                        if  order=="message" && asc=="DESC" 
                            i(style='margin-left:4px;').fas.fa-arrow-up
                        if  order=="message" && asc=="ASC"
                            i(style='margin-left:4px;').fas.fa-arrow-down
                    th 
                        a(href=url+'?order=completion&asc='+asc) Completion
                        if  order=="completion" && asc=="DESC" 
                            i(style='margin-left:4px;').fas.fa-arrow-up
                        if  order=="completion" && asc=="ASC"
                            i(style='margin-left:4px;').fas.fa-arrow-down
                    th 
                        a(href=url+'?order=update_at&asc='+asc) Date d'update
                        if  order=="update_at" && asc=="DESC" 
                            i(style='margin-left:4px;').fas.fa-arrow-up
                        if  order=="update_at" && asc=="ASC"
                            i(style='margin-left:4px;').fas.fa-arrow-down
                    th 
                        a(href=url+'?order=created_at&asc='+asc) Date de cr√©ation
                        if  order=="created_at" && asc=="DESC" 
                            i(style='margin-left:4px;').fas.fa-arrow-up
                        if  order=="created_at" && asc=="ASC"
                            i(style='margin-left:4px;').fas.fa-arrow-down
                    th(colspan="3")
                tbody                    
                each demand in demands
                    tr
                        td= demand.id
                        td= demand.title
                        td= demand.city
                        td= demand.message
                        if demand.completion
                            td Fait
                        else
                            td En cours
                        td= demand.update_at
                        td= demand.created_at
                        td
                            a(href='/demands/'+demand.id).button.is-info Afficher
                        td
                            a(href='/demands/'+demand.id+'/edit').button.is-primary Editer
                        td
                            form(action='/demands/'+demand.id+'?_method=DELETE', method='post')
                                input(type='submit', value='Supprimer').button.is-danger
footer
    include ../structure/footer.pug
